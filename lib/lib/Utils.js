"use strict";

Object.prototype.toList = function () {
  return Array.isArray(this) && this || [this];
};

Array.prototype.flatten = function () {
  return this.reduce(function (a, b) {
    return a.concat(Array.isArray(b) && b.flatten() || b);
  }, []);
};

/*
 * useful, taken from ruby's stdlib (but ugly)
 */
Array.prototype.compact = function () {
  return this.filter(function (a) {
    return !(a === null || a === undefined || a.length !== undefined && a.length === 0);
  });
};

Array.prototype.equals = function (other) {
  var deepEqual = function deepEqual(a, b) {
    if (a.length === 0 || b.length === 0) return true;
    return a[0] === b[0] && deepEqual(a.slice(1), b.slice(1));
  };

  return this.length === other.length && deepEqual(this, other);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvVXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPLFNBQVAsQ0FBaUIsTUFBakIsR0FBMEIsWUFBWTtBQUNwQyxTQUFPLE1BQU0sT0FBTixDQUFjLElBQWQsS0FBdUIsSUFBdkIsSUFBK0IsQ0FBQyxJQUFELENBQS9CLENBRDZCO0NBQVo7O0FBSTFCLE1BQU0sU0FBTixDQUFnQixPQUFoQixHQUEwQixZQUFZO0FBQ3BDLFNBQU8sS0FBSyxNQUFMLENBQWEsVUFBVSxDQUFWLEVBQVksQ0FBWixFQUFlO0FBQ2pDLFdBQU8sRUFBRSxNQUFGLENBQVMsTUFBTSxPQUFOLENBQWMsQ0FBZCxLQUFvQixFQUFFLE9BQUYsRUFBcEIsSUFBbUMsQ0FBbkMsQ0FBaEIsQ0FEaUM7R0FBZixFQUVqQixFQUZJLENBQVAsQ0FEb0M7Q0FBWjs7Ozs7QUFTMUIsTUFBTSxTQUFOLENBQWdCLE9BQWhCLEdBQTBCLFlBQVk7QUFDcEMsU0FBTyxLQUFLLE1BQUwsQ0FBWSxVQUFDLENBQUQsRUFBTztBQUN4QixXQUFPLEVBQUUsTUFBTSxJQUFOLElBQWMsTUFBTSxTQUFOLElBQW9CLEVBQUUsTUFBRixLQUFhLFNBQWIsSUFBMEIsRUFBRSxNQUFGLEtBQWEsQ0FBYixDQUE5RCxDQURpQjtHQUFQLENBQW5CLENBRG9DO0NBQVo7O0FBTTFCLE1BQU0sU0FBTixDQUFnQixNQUFoQixHQUF5QixVQUFVLEtBQVYsRUFBaUI7QUFDeEMsTUFBTSxZQUFZLFNBQVosU0FBWSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQVU7QUFDMUIsUUFBRyxFQUFFLE1BQUYsS0FBYSxDQUFiLElBQWtCLEVBQUUsTUFBRixLQUFhLENBQWIsRUFBZ0IsT0FBTyxJQUFQLENBQXJDO0FBQ0EsV0FBTyxDQUFDLENBQUUsQ0FBRixNQUFTLEVBQUUsQ0FBRixDQUFULElBQWtCLFVBQVUsRUFBRSxLQUFGLENBQVEsQ0FBUixDQUFWLEVBQXFCLEVBQUUsS0FBRixDQUFRLENBQVIsQ0FBckIsQ0FBbkIsQ0FGbUI7R0FBVixDQURzQjs7QUFNeEMsU0FBTyxLQUFLLE1BQUwsS0FBZ0IsTUFBTSxNQUFOLElBQWdCLFVBQVUsSUFBVixFQUFnQixLQUFoQixDQUFoQyxDQU5pQztDQUFqQiIsImZpbGUiOiJVdGlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbIk9iamVjdC5wcm90b3R5cGUudG9MaXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzKSAmJiB0aGlzIHx8IFt0aGlzXTtcbn07XG5cbkFycmF5LnByb3RvdHlwZS5mbGF0dGVuID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5yZWR1Y2UoIGZ1bmN0aW9uIChhLGIpIHtcbiAgICByZXR1cm4gYS5jb25jYXQoQXJyYXkuaXNBcnJheShiKSAmJiBiLmZsYXR0ZW4oKSB8fCBiKVxuICB9LCBbXSk7XG59O1xuXG4vKlxuICogdXNlZnVsLCB0YWtlbiBmcm9tIHJ1YnkncyBzdGRsaWIgKGJ1dCB1Z2x5KVxuICovXG5BcnJheS5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZmlsdGVyKChhKSA9PiB7XG4gICAgcmV0dXJuICEoYSA9PT0gbnVsbCB8fCBhID09PSB1bmRlZmluZWQgfHwgKGEubGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgYS5sZW5ndGggPT09IDApKTtcbiAgfSk7XG59O1xuXG5BcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gIGNvbnN0IGRlZXBFcXVhbCA9IChhLCBiKSA9PiB7XG4gICAgaWYoYS5sZW5ndGggPT09IDAgfHwgYi5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgIHJldHVybiAoYVswXSA9PT0gYlswXSkgJiYgZGVlcEVxdWFsKGEuc2xpY2UoMSksYi5zbGljZSgxKSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5sZW5ndGggPT09IG90aGVyLmxlbmd0aCAmJiBkZWVwRXF1YWwodGhpcywgb3RoZXIpO1xufTtcbiJdfQ==